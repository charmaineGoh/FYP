<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory</title>
  <link rel="stylesheet" href="../css/inventory.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Work+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
<div class="app-container">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <h1>ESCKWEAR</h1>
      <!-- Profile Section -->
      <div class="profile-section-sidebar">
        <div class="profile-avatar-sidebar" id="profile-avatar" title="Click to logout">
          <span id="profile-initial">U</span>
        </div>
        <div class="profile-dropdown-sidebar" id="profile-dropdown">
          <div class="profile-name" id="profile-name">User Name</div>
          <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
      </div>
    </div>
    <ul class="sidebar-nav">
      <li><a href="dashboard.html">Dashboard</a></li>
      <li><a href="products.html">Products</a></li>
      <li class="dropdown-toggle active">
        <a href="#">Inventory ▼</a>
        <ul class="dropdown-menu">
          <li class="active"><a href="inventory.html">Stock Levels</a></li>
          <li><a href="movement.html">Movement</a></li>
        </ul>
      </li>
      <li><a href="suppliers.html">Suppliers</a></li>
      <li><a href="usermanagement.html">User Management</a></li>
    </ul>
    <div class="sidebar-footer">
        <a href ="settings.html">Settings</a>
    </div>    
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <button class="hamburger-btn" onClick="toggleSidebar()">☰</button>
    <header class="main-header">
      <div class="header-left">
        <h2>Inventory</h2>
        <div class="low-stock-alert" id="lowStockAlert" style="display: none;">
          <span class="alert-badge">⚠</span>
          <span class="alert-text" id="lowStockCount"></span>
        </div>
      </div>
      
      <div class="filter-container">
        <input type="text" id="searchInput" placeholder="Search by Stock ID">
        <button id="searchBtn" title="Search Inventory">Search</button>
        <button id="addInventoryBtn" class="icon-btn" title="Add Inventory">+</button>
      </div>
    </header>

    <div id="inventoryList" class="inventory-table">
      <table id="inventoryTableBody">
        <thead>
          <tr>
            <th>Stock ID</th>
            <th>Quantity</th>
            <th>Warehouse</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <!-- Rows will be populated dynamically -->
        </tbody>
      </table>
    </div>

  </main>
</div>

<!-- Add Inventory Modal -->
<div id="addInventoryModal" class="modal hidden">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Add Inventory</h3>
    <form id="addInventoryForm">
      <label for="add-stockId">Stock ID:</label>
      <input type="text" id="add-stockId" placeholder="e.g., STK001" required>

      <label for="add-quantity">Quantity:</label>
      <input type="number" id="add-quantity" min="1" placeholder="Enter quantity" required>

      <label for="add-warehouseLocation">Warehouse Location:</label>
      <input type="text" id="add-warehouseLocation" placeholder="Enter warehouse location" required>

      <button type="submit" class="primary-btn">Save</button>
    </form>
  </div>
</div>

<!-- Edit Inventory Modal -->
<div id="editModal" class="modal hidden">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Edit Stock Item</h3>
    <form id="editForm">
      <label for="edit-stockId">Stock ID:</label>
      <input id="edit-stockId" readonly>

      <label for="edit-quantity">Quantity:</label>
      <input id="edit-quantity" type="number" min="1" required>

      <label for="edit-warehouseLocation">Warehouse Location:</label>
      <input id="edit-warehouseLocation" placeholder="Enter warehouse location" required>

      <button type="submit" class="primary-btn">Save</button>
    </form>
  </div>
</div>

<!-- External JS -->
<script src="../js/auth.js"></script>
<script src="../js/inventory.js"></script>
</body>
</html>